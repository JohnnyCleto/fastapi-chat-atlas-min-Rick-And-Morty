<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Chat — Multiverso Rick & Morty</title>
  <style>
    /* ==============================
       Variáveis de cores temáticas
       ============================== */
    :root {
      --bg: #0d0f1a;              /* fundo escuro espacial */
      --sidebar-bg: #11132e;      /* barra lateral */
      --card-bg: #1a1c3d;         /* bolhas e cards */
      --accent: #39ff14;          /* verde neon Rick */
      --accent-hover: #00ff9f;    /* hover botão */
      --text: #e0f7fa;            /* texto claro */
      --muted: rgba(224, 247, 250, 0.6);
      --input-bg: rgba(255, 255, 255, 0.05);
      --input-border: rgba(57, 255, 20, 0.3);
      --radius: 14px;
      --font: 'Inter', system-ui, 'Segoe UI', Roboto, Arial, sans-serif;
    }

    /* ==============================
       Reset e corpo
       ============================== */
    * { box-sizing: border-box; }
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      font-family: var(--font);
      background: linear-gradient(180deg, #0d0f1a, #05070f);
      color: var(--text);
    }

    /* ==============================
       Sidebar
       ============================== */
    .sidebar {
      width: 320px;
      display: flex;
      flex-direction: column;
      padding: 24px;
      gap: 18px;
      background: var(--sidebar-bg);
      box-shadow: 6px 0 40px rgba(0,0,0,0.5);
    }

    .sidebar h2 {
      margin: 0 0 12px 0;
      font-size: 20px;
      font-weight: 700;
      color: #39ff14;
      text-shadow: 0 0 6px #39ff14;
    }

    .rooms {
      display: flex;
      flex-direction: column;
      gap: 10px;
      overflow-y: auto;
      padding-right: 4px;
    }

    .room {
      padding: 14px;
      border-radius: var(--radius);
      background: rgba(57, 255, 20, 0.05);
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 10px;
      transition: background 0.2s, transform 0.1s;
      border: 1px solid rgba(57, 255, 20, 0.3);
    }

    .room:hover {
      background: rgba(57, 255, 20, 0.15);
      transform: translateX(2px);
    }

    .room .name { font-weight: 600; }
    .room .meta { font-size: 12px; color: var(--muted); }

    /* ==============================
       Perfil
       ============================== */
    .profile {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-top: 6px;
    }

    .profile img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid var(--accent);
      box-shadow: 0 0 8px var(--accent);
    }

    /* ==============================
       Main content
       ============================== */
    .main {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 24px;
      gap: 16px;
    }

    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }

    .topbar h2 {
      margin: 0;
      font-size: 20px;
      color: #39ff14;
      text-shadow: 0 0 6px #39ff14;
    }

    .small { font-size: 12px; color: var(--muted); }

    /* ==============================
       Messages
       ============================== */
    .messages {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(57,255,20,0.02), rgba(0,0,0,0));
    }

    .msg {
      display: flex;
      gap: 12px;
      margin-bottom: 14px;
      align-items: flex-start;
    }

    .msg img {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      object-fit: cover;
      border: 1px solid var(--accent);
    }

    .bubble {
      display: inline-block;           /* bolha se ajusta ao conteúdo */
      padding: 12px 16px;
      border-radius: var(--radius);
      background: var(--card-bg);
      line-height: 1.5;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
      transition: background 0.2s, box-shadow 0.2s;
      border: 1px solid rgba(57,255,20,0.3);
      word-wrap: break-word;           /* quebra palavras longas */
      max-width: 80%;                  /* opcional: limita para não quebrar o layout */
}


    .bubble:hover {
      box-shadow: 0 4px 12px rgba(57,255,20,0.6);
      background: rgba(36, 39, 78, 0.9);
    }

    .metaRow {
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 6px;
    }

    /* ==============================
       Composer (input)
       ============================== */
    .composer {
      display: flex;
      gap: 12px;
    }

    .composer input {
      flex: 1;
      padding: 14px 16px;
      border-radius: var(--radius);
      border: 1px solid var(--input-border);
      background: var(--input-bg);
      color: var(--text);
      outline: none;
      transition: border 0.2s, background 0.2s, box-shadow 0.2s;
    }

    .composer input:focus {
      border-color: var(--accent);
      background: rgba(57, 255, 20, 0.08);
      box-shadow: 0 0 8px var(--accent);
    }

    .composer button {
      padding: 14px 20px;
      border-radius: var(--radius);
      border: none;
      background: var(--accent);
      color: #0d0f1a;
      font-weight: 700;
      cursor: pointer;
      transition: background 0.2s, transform 0.1s, box-shadow 0.2s;
      box-shadow: 0 0 6px var(--accent);
    }

    .composer button:hover {
      background: var(--accent-hover);
      transform: translateY(-2px);
      box-shadow: 0 0 12px var(--accent-hover);
    }

    /* ==============================
       Botões menores
       ============================== */
    button {
      font-family: var(--font);
      transition: background 0.2s, transform 0.1s, box-shadow 0.2s;
    }

    button:hover { transform: translateY(-1px); }
  </style>
</head>
<body>
  <div class="sidebar">
    <div>
      <h2>Salas</h2>
      <div style="display:flex;gap:8px;margin-top:8px">
        <input id="newRoomName" placeholder="Criar sala..." />
        <button id="create">Criar</button>
      </div>
    </div>

    <div class="rooms" id="rooms"></div>

    <div style="margin-top:auto">
      <div class="small">Perfil</div>
      <div class="profile" id="profileBox">
        <!-- avatar + name -->
      </div>
      <div style="margin-top:8px">
        <button id="backBtn">Voltar / Trocar Perfil</button>
      </div>
    </div>
  </div>

  <div class="main">
    <div class="topbar">
      <div>
        <h2 id="roomTitle">Sala: —</h2>
        <div class="small" id="roomInfo">Conecte-se a uma sala</div>
      </div>
      <div id="status" class="small">status: desconectado</div>
    </div>

    <div class="messages" id="messages"></div>

    <div class="composer">
      <input id="input" placeholder="Digite sua mensagem..." />
      <button id="send">Enviar</button>
    </div>
  </div>

  <script src="/static/js/chat.js"></script>
</body>
</html>
